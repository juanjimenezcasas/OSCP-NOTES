## DESCRIPTION

¿QUE NECESITAMOS?

1.  PKEXEC CON BIT SUID ACTIVADO → SE PUEDE COMPROBAR CON  “find / -perm -4000 2>/dev/null”
2. GCC (COMPILADOR) → Se puede comprobar con: "wich gcc"


#### Mas información
* MEJOR EXPLOIT: https://github.com/arthepsy/CVE-2021-4034
* https://github.com/ly4k/PwnKit


## EXPLOITATION

### OPTION 1:
MEJOR EXPLOIT: https://github.com/arthepsy/CVE-2021-4034
1. Transferimos el EXPLOIT a la máquina, por ejemplo con un servidor web (python3 -m http.server 8080)
2. Compilamos el exploit en la máquina víctima:

```
gcc cve-2021-4034-poc.c -o cve-2021-4034-poc
```
4. ejecutamos: 

```
./cve-2021-4034-poc
```

![[Pasted image 20230518203300.png]]

**!!NOTA IMPORTANTE!!** SI ESTA SOLUCIONADO APARECERÁ 
GLib: Cannot convert message: Could not open converter from “UTF-8” to “PWNKIT”
pkexec --version |
       --help |
       --disable-internal-agent |
       [--user username] PROGRAM [ARGUMENTS...]


## MACHINES

* Hack The Box: 

**!!NOTA IMPORTANTE!!** 