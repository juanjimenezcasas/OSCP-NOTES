
## DESCRIPTION



#### Mas información
* 


## EXPLOITATION

### OPTION 1: SI TENEMOS LA PRIVATE KEY

```
#SUBOPCIÓN 1: Pasar de la clave privada a una clave desprotegida y acceder al ssh con esta
openssl rsa -in hype_key_encrypted -out hype_key_decrypted → ssh -i ~/hype_key_decrypted hype@10.10.10.79
                  
# SUBOPCIÓN2: Accedes directamente con la clave privada (Y INTRODUCES LA CONTRASEÑA): ssh -i ~/hype_key_encripted hype@10.10.10.79
```

**!!NOTA IMPORTANTE!!** 
* SI DA ERROR DE PERMISOS HAY QUE ASIGNARLE EL 600
* No buscar solo la private key id_rsa, existen otros formanos en función de la encriptación que utilice. Si estas en un [[LFI]] Puedes buscar authorized_keys y ver el mecanismo de encriptado:
![[Pasted image 20230425115630.png]]
* Ejemplos de claves privadas:
	* id_rsa
	* id_ecdsa

### OPTION 2: FUERZA BRUTA SOBRE LA KEY
Herramienta: SSH2JOHN

Si tenemos una clave id_rsa pero cuando hacemos login nos pide una passphrase → usamos ssh2john y intentamos crackear la pass

```
python ssh2john.py id_rsa > ssh.pass.txt
john -wordlist=/usr/share/wordlists/rockyou.txt ssh.pass.txt  
ssh 10.10.10.17 -i id_rsa  
```

IMPORTANTE SI HAY QUE CREAR REGLAS UTILIZAR [[RULES TO MODIFY DICTIONARIES]]

### OPTION 3: FUERZA BRUTA SOBRE LOGIN

```
sudo hydra -l george -P /usr/share/wordlists/rockyou.txt -s 2222 ssh://192.168.50.201
```


Crear reglas sobre una contraseña:

![[Pasted image 20230516131823.png]]

### OPTION 4:CREACIÓN DE CLAVES

Si podemos acceder al directorio de un usuario por ejemplo con RSYN en los linux, entonces podemos subir la clave publica y llamarla `authorized_keys` para acceder sin contraseña.

Creación de las claves y conexión:

```

ssh -i id_rsa fox@192.168.243.126 
```




## MACHINES

* Hack The Box: Postman

